<info-panel>

    <header class="info-panel-header">
        <nav class="info-panel-navigation">
            <button each="{ section in sections }"
                    class="button { 'is-active': section == activeSection }"
                    onclick="{ onSelectSection }">
                { section }
            </button>
        </nav>
        <div class="info-panel-control">
            <button class="button" title="Toggle maximize">
                <span class="icon-align-top"></span>
                <span class="a11y-sr-only">Toggle maximize</span>
            </button>
            <button class="button" title="Close" onclick="{ opts.onClose }">
                <span class="icon-clear"></span>
                <span class="a11y-sr-only">Close</span>
            </button>
        </div>
    </header>

    <iframe if="{ activeSection }" class="info-panel-section"
            src="{ sections[activeSection] }"
            width="100%"
            ></iframe>

    <script>
        var tag = this;
        tag.activeSection = undefined;
        opts.sections = {};
        tag.onSelectSection = onSelectSection;
        tag.on('update', onUpdate);

        function onSelectSection(event) {
            tag.update({ activeSection: event.item.section });
        }

        function onUpdate() {
            if(tag.sections !== opts.sections) {
                tag.sections = opts.sections || {};
                tag.activeSection = Object.keys(tag.sections)[0];
            }
        }
    </script>
</info-panel>